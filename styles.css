:root{
  --bg:#0b1117;
  --ink:#dfe7ef;
  --ink-dim:#9fb0c2;
  --card:#0f1621;
  --card-2:#0c131c;
  --accent:#8ff0cf;
  --accent-2:#8fb8ff;
  --ok:#6de6a7;
  --warn:#ef8e8e;
  --ring:#1b2837;
  --shadow: 0 10px 24px rgba(0,0,0,.35), 0 1px 0 rgba(255,255,255,.04) inset;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--ink); background:var(--bg); font:15px/1.55 ui-sans-serif,system-ui,-apple-system,Segoe UI,Inter,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
}

/* Womb chamber overlay (behind panels, over canvas) */
body::after{
  content:""; position:fixed; inset:0; z-index:1; pointer-events:none;
  background:
    radial-gradient(ellipse at 50% 28%, rgba(127,225,195,.18), rgba(0,0,0,0) 55%),
    radial-gradient(ellipse at 50% 28%, rgba(80,120,200,.25), rgba(0,0,0,0) 70%),
    radial-gradient(ellipse at 50% 20%, rgba(0,0,0,.65), rgba(0,0,0,0) 80%),
    linear-gradient(to bottom, rgba(0,0,0,.25), rgba(0,0,0,.55));
}

/* Creature canvas fixed at bottom layer */
#org-canvas{
  position:fixed; inset:0; z-index:0; display:block;
  width:100vw; height:100vh;
  background:transparent;
}

/* Top bar */
.topbar{
  position:relative; z-index:2;
  display:flex; justify-content:space-between; align-items:center;
  padding:18px 22px 6px;
}
.brand{letter-spacing:.04em; font-weight:600}
.brand .dot{display:inline-block; width:8px; height:8px; border-radius:50%; background:var(--ok); margin-right:8px; box-shadow:0 0 12px var(--ok)}
.stage{color:var(--ink-dim)}

/* Middle status & controls */
.mid{
  position:relative; z-index:2;
  max-width:1100px; margin:0 auto; padding:6px 22px 10px;
}
.statusline{opacity:.9; margin:4px 0 10px}
.statusline .alive{color:var(--ok)}
.controls{display:flex; gap:10px; flex-wrap:wrap; margin:8px 0 12px}
.btn{
  background:#0f1724; color:var(--ink); border:1px solid #1c2636; border-radius:10px;
  padding:8px 12px; cursor:pointer; box-shadow:var(--shadow); transition:.2s;
}
.btn:hover{transform:translateY(-1px)}
.btn.ghost{background:#0d1420}
.btn span{opacity:.85; margin-right:6px}

/* price + updated */
.kv{display:grid; grid-template-columns: 1fr 1fr; gap:14px; margin:6px 0 12px}
.kv .label{color:var(--ink-dim); font-size:.9rem; opacity:.9}
.kv .value{font-variant-numeric:tabular-nums}

/* Net flow */
.flow{margin-top:6px}
.flowbar{
  position:relative; height:8px; border-radius:999px; overflow:hidden;
  background:linear-gradient(90deg, #21343f, #263947);
  box-shadow:inset 0 0 0 1px #21303b, var(--shadow);
}
.flowbar::before{
  content:""; position:absolute; inset:0;
  background:linear-gradient(90deg, rgba(110,233,177,.25), rgba(233,120,120,.25));
}
.needle{
  position:absolute; top:-3px; width:2px; height:14px; background:#fff; left:50%;
  box-shadow:0 0 8px rgba(255,255,255,.6);
}
.flowmeta{display:flex; justify-content:flex-start; gap:10px; margin-top:6px; color:var(--ink-dim)}

/* Panels row */
.row{
  position:relative; z-index:2;
  display:grid; grid-template-columns: 1fr 1fr; gap:18px;
  max-width:1100px; margin:20px auto 56px; padding:0 22px;
}
.panel{
  background:linear-gradient(180deg, var(--card), var(--card-2));
  border:1px solid #1c2636; border-radius:14px; padding:16px; box-shadow:var(--shadow);
}
.panel-head{display:flex; align-items:center; gap:10px; margin-bottom:8px}
.panel-head h3{margin:0; font-weight:600}
.chip{font-size:.75rem; padding:2px 8px; border-radius:999px; background:#152233; color:#96b7d7; border:1px solid #24364a}

/* meters */
.meter{display:grid; grid-template-columns: 100px 1fr 48px; align-items:center; gap:10px; margin:10px 0}
.meter-label{color:var(--ink-dim)}
.meter-bar{height:10px; border-radius:8px; background:#152233; overflow:hidden; border:1px solid #223246}
.meter-fill{height:100%; background:linear-gradient(90deg, var(--accent), var(--accent-2))}
.meter-fill.alt{background:linear-gradient(90deg, #a78bfa, #60a5fa)}
.meter-val{text-align:right; color:var(--ink-dim)}

/* compact key/values */
.kv.compact{grid-template-columns: 1fr 1fr}

/* Table */
.table{width:100%; border-collapse:separate; border-spacing:0; margin-top:6px}
.table thead th{
  text-align:left; font-weight:500; color:var(--ink-dim); padding:10px 12px 6px; font-size:.9rem;
}
.table tbody td{
  padding:12px; border-top:1px solid #1c2636; font-variant-numeric:tabular-nums;
}
.type-feed{color:var(--ok); font-weight:400}
.type-starve{color:var(--warn); font-weight:400}

/* Footer */
.foot{color:#8aa0b6; opacity:.55; text-align:center; padding:22px}

/* Responsive */
@media (max-width: 980px){
  .row{grid-template-columns: 1fr}
  .kv{grid-template-columns: 1fr}
}

/* ===== Base ===== */
:root{
  --bg:#05070a;           /* deep black */
  --pane:#0b1118;         /* glassy panel */
  --edge:#1b2736;
  --ink:#dfe7ff;
  --muted:#8da3ba;

  --ok:#69e4d1;           /* aqua (Feed) */
  --okA:rgba(105,228,209,.86);
  --warn:#ff69c9;         /* magenta (Starve) */
  --warnA:rgba(255,105,201,.9);
  --acc:#9cc8ff;

  --ringStroke:rgba(140,200,255,.12);
  --hazeTint:rgba(80,130,160,.12);
  --tether:rgba(105,228,209,.6);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--ink);
  font:14px/1.35 system-ui, -apple-system, Segoe UI, Inter, Roboto, sans-serif;
  letter-spacing:.2px; overflow:hidden;
}
.mono{font-variant-numeric:tabular-nums; font-feature-settings:"tnum" 1}
.muted{color:var(--muted)}
.right{margin-left:auto}

/* Canvas behind all */
#org-canvas{
  position:fixed; inset:0; width:100vw; height:100vh; display:block;
  background:radial-gradient(100% 100% at 50% 60%, rgba(40,60,90,.18), transparent 60%),
             radial-gradient(100% 130% at 50% 70%, var(--hazeTint), transparent 70%);
  z-index:0;
}

/* ===== Top ribbon ===== */
.ribbon{
  position:fixed; inset:12px 12px auto 12px; z-index:3;
  display:grid; grid-template-columns:auto auto 1fr auto; gap:14px; align-items:center;
  backdrop-filter:saturate(140%) blur(6px);
}
.brand{font-weight:700; letter-spacing:.8px}
.chip{display:inline-flex; gap:8px; align-items:center; padding:6px 10px;
  background:#0f1a26; border:1px solid #122032; border-radius:999px; color:#a9c7ff; font-size:12px}
.inline{display:flex; gap:18px; align-items:center}
.controls{display:flex; gap:8px; align-items:center}
.btn{
  padding:8px 12px; border-radius:10px; border:1px solid #213245;
  color:var(--ink); background:#0c121a; cursor:pointer;
}
.btn.ghost{background:transparent}
.btn:hover{border-color:#33506f}

/* Net flow line */
.flowline{display:flex; align-items:center; gap:10px}
.flow{width:180px; height:6px; background:#1a2431; border-radius:3px; overflow:hidden; border:1px solid #223447}
.flow>span{display:block; width:0%; height:100%; background:linear-gradient(90deg,var(--ok),var(--warn)); transition:width .6s}

/* ===== Cards (floating bottom) ===== */
.cards{
  position:fixed; left:12px; right:12px; bottom:12px; z-index:2;
  display:grid; grid-template-columns: minmax(280px,420px) minmax(360px, 680px); gap:12px;
}
.card{
  background:rgba(8,12,18,.78);
  border:1px solid #152234; border-radius:14px; padding:14px;
  box-shadow: 0 20px 60px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.03);
  backdrop-filter: blur(8px);
}
.card-title{display:flex; align-items:center; gap:8px; color:#b7cfff; margin-bottom:10px}
.dot{width:8px;height:8px;border-radius:50%;background:#2cffb6; box-shadow:0 0 8px #2cffb6aa}
.dot.live{animation:blink 1.6s infinite}
@keyframes blink{50%{opacity:.35}}

.kv{
  display:grid; grid-template-columns: 80px 1fr 48px; gap:8px 12px; align-items:center;
}
.kv .pct{text-align:right}
.bar{width:100%; height:8px; background:#141e29; border-radius:4px; overflow:hidden; border:1px solid #1e2c3d}
.bar>span{display:block; height:100%; width:0%; background:linear-gradient(90deg,#82f6e2,#93d4ff); transition:width .6s}

.feed .legend{margin-top:8px; display:flex; gap:14px; color:#90a8c8; font-size:12px}
.key.feed::before,.key.starve::before{content:""; display:inline-block; width:8px;height:8px;border-radius:50%; margin-right:6px; vertical-align:-1px}
.key.feed::before{background:var(--ok)}
.key.starve::before{background:var(--warn)}

.pill-list{display:flex; gap:8px; flex-wrap:wrap}
.pill{
  display:flex; align-items:center; gap:10px;
  background:#0a121a; border:1px solid #1c2b3e; border-radius:12px;
  padding:10px 12px; min-width:220px;
}
.pill .t{min-width:64px} .pill .v{min-width:76px} .pill .p{min-width:60px; text-align:right}
.pill.feed{border-color:#173b35; background:rgba(10,24,20,.7)}
.pill.feed .tag{color:var(--ok)}
.pill.starve{border-color:#3a1532; background:rgba(24,10,20,.7)}
.pill.starve .tag{color:var(--warn)}
.tag{letter-spacing:.3px}

/* ===== Ring HUD donuts (left/right) ===== */
.ring-hud{
  position:fixed; inset:0; display:grid; grid-template-columns: 240px 1fr 240px; pointer-events:none;
}
.gauge{display:grid; place-items:center}
.gauge .label{margin-top:8px; color:#a3bfe6; font-size:12px}
.gauge .ring{
  width:220px; height:220px; border-radius:50%;
  background:
    conic-gradient(var(--ringColor) calc(var(--pct)*1%), transparent 0),
    radial-gradient(closest-side, #060a12 68%, transparent 69%);
  box-shadow: 0 0 0 1px #0f2031 inset, 0 0 30px 0 var(--ringColor), 0 0 60px -10px var(--ringColor);
  position:relative;
  filter:saturate(130%);
}
.gauge .ring::after{ /* inner halo */
  content:""; position:absolute; inset:24px; border-radius:50%;
  background: radial-gradient(60% 60% at 50% 50%, rgba(120,200,255,.16), transparent 60%);
}

/* ===== Footer ===== */
.foot{
  position:fixed; left:0; right:0; bottom:2px; text-align:center; font-size:11px;
  opacity:.5; z-index:1; pointer-events:none;
}

/* ===== Mobile tweaks ===== */
@media (max-width: 980px){
  .ribbon{grid-template-columns:1fr; gap:10px; inset:8px}
  .controls{order:3}
  .cards{grid-template-columns:1fr; left:8px; right:8px; bottom:8px}
  .gauge .ring{width:160px;height:160px}
}

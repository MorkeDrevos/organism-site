:root{
  --bg:#0b1116;
  --ink:#e6f2ff;
  --ink-dim:#a9bed0;
  --ok:#75f5c5;
  --warn:#ff7f8a;
  --cyan:#78d9ff;
  --blue:#6fb6ff;
  --panel:#0e1620;
  --panel-2:#0f1a25;
  --ring:#20313f;
  --ring2:#10202a;
  --bar:#2c3f51;
  --bar-fill:#9de1ff;
  --bar-fill-2:#85b6ff;
  --shadow: 0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.02);
  --radius:14px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  background: radial-gradient(1200px 800px at 50% 20%, #0b141c, #061018 70%);
  color:var(--ink);
  font: 14px/1.4 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
}

.ok{ color: var(--ok); }
.warn{ color: var(--warn); }

/* ===== Creature canvas (womb) ===== */
#org-canvas{
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  z-index: 0;            /* bottom */
  display:block;
  background: transparent;
  pointer-events:none;
}

/* ===== Over-canvas chrome ===== */
.topbar{
  position: relative;
  z-index: 2;
  display:flex; justify-content:space-between; align-items:center;
  padding: 14px 22px;
  color: var(--ink-dim);
}
.brand{ letter-spacing:.06em; color:var(--ink); }
.stage{ opacity:.8; font-size:13px; }

.status-strip{
  position: relative; z-index:2;
  display:flex; justify-content:space-between; align-items:center;
  gap:16px;
  padding: 8px 22px 10px;
  color: var(--ink-dim);
}
.status-line{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

.controls{ display:flex; gap:10px; flex-wrap:wrap; }
.btn{
  background: linear-gradient(180deg, #182736, #0f1b27);
  color: var(--ink);
  border:1px solid #1f2f3d;
  border-radius: 10px;
  padding: 8px 12px;
  box-shadow: var(--shadow);
  cursor:pointer;
}
.btn.ghost{ background: #0e1721; }

.inline-metrics{
  position: relative; z-index:2;
  display:grid; grid-template-columns: auto auto 1fr; gap:16px;
  align-items:center;
  padding: 8px 22px;
  color:var(--ink-dim);
}
.inline-metrics .flow-wrap{ display:flex; align-items:center; gap:12px; }
.flow{
  position: relative;
  width: min(780px, 70vw);
  height: 8px;
  background: var(--bar);
  border-radius: 8px;
  overflow: hidden;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.05);
}
.needle{
  position:absolute; top:0; height: 100%;
  width: 2px;
  left: 50%;
  background: linear-gradient(180deg, #69ffc2, #3ec6ff);
  box-shadow: 0 0 10px rgba(105,255,194,.6);
}
.flow-label{ opacity:.8; }

/* ===== Bottom dock ===== */
.dock{
  position: fixed;
  left: 0; right: 0; bottom: 16px;
  padding: 0 18px;
  z-index: 2;           /* above canvas */
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 18px;
}
.panel{
  background: linear-gradient(180deg, var(--panel), var(--panel-2));
  border: 1px solid #1c2a37;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 16px 16px 18px;
  min-height: 170px;
}
.h{ margin:0 0 10px; font-weight:600; letter-spacing:.03em; }
.live{
  display:inline-block; margin-left:8px; font-weight:500;
  font-size:12px; color:#9ddfff; background:#0b2433;
  padding:2px 8px; border-radius:999px; border:1px solid #14384d;
}

/* vitals bars */
.kv{ display:grid; grid-template-columns: 80px 1fr 58px; gap:10px; align-items:center; margin: 10px 0; }
.kv.compact{ grid-template-columns: 60px auto; }
.kv.compact .value{ color:var(--ink-dim); }
.kv .label{ color:var(--ink-dim); }
.kv .pct{ color:var(--ink-dim); text-align:right; }
.barline{
  height: 10px; background: var(--bar); border-radius: 999px; overflow:hidden;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.05);
}
.bar{
  height:100%; width:0%;
  background: linear-gradient(90deg, var(--bar-fill), var(--bar-fill-2));
  box-shadow: 0 0 16px rgba(123, 200, 255,.35);
}
.thin{ height:6px; }

.grid2{ display:grid; grid-template-columns: 1fr 1fr; gap:12px; margin-top:8px; }
.right{ text-align:right; }

/* trades table */
.table{
  width:100%;
  border-collapse: separate;
  border-spacing: 0;
  background: linear-gradient(180deg, #0b1924, #0b1320);
  border:1px solid #152542;
  border-radius: var(--radius);
  overflow:hidden;
}
.table thead th{
  color: var(--ink-dim);
  font-weight: 500;
  padding: 10px 12px;
  border-bottom:1px solid rgba(255,255,255,.05);
}
.table thead .tl{ text-align:left; }
.table thead .tr{ text-align:right; }
.table tbody td{
  padding: 12px 12px;
  border-top: 1px solid rgba(255,255,255,.04);
}
.table tbody td.tr{ text-align:right; }
.type-feed{ color: var(--ok); }
.type-starve{ color: var(--warn); }

/* footer */
.foot{ position: fixed; left:0; right:0; bottom: -2px; text-align:center; color:#7f93a3; font-size:12px; opacity:.5; padding: 12px; }

/* responsive */
@media (max-width: 980px){
  .dock{ grid-template-columns: 1fr; }
  .inline-metrics{ grid-template-columns: 1fr; gap:8px; }
  .controls{ width:100%; justify-content:flex-start; }
}

/* ===== Variables ===== */
:root{
  --bg0:#070b12;
  --bg1:#0c1320;
  --slab:#0d1626f2;
  --line:#1b2b45;
  --cy:#36fbd1;
  --cy-d:#1cb497;
  --pu:#6d79ff;
  --pu-d:#3842c8;
  --tx:#dfe7f1;
  --mut:#8aa0ba;
  --ok:#7dffc9;
  --warn:#ff7a7a;
}

/* ===== Reset / base ===== */
*{box-sizing:border-box}
html,body{height:100%}
html,body{margin:0}
body{
  color:var(--tx);
  background:
    radial-gradient(1200px 900px at 50% -10%, #152339 0%, #0b111a 60%, #070b12 100%),
    linear-gradient(180deg, var(--bg1), var(--bg0));
  font: 400 16px/1.55 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
}

/* ===== Topbar ===== */
.topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 20px;
  border-bottom:1px solid var(--line);
  background:linear-gradient(180deg, #0c1220, #0a101a);
}
.brand{display:flex; gap:12px; align-items:center}
.glyph{
  width:28px;height:28px;border-radius:50%;
  background: radial-gradient(closest-side, var(--cy), transparent 70%),
              radial-gradient(20px 20px at 70% 30%, rgba(109,121,255,.7), transparent 60%),
              #0a1525;
  box-shadow: 0 0 18px rgba(54,251,209,.35) inset, 0 0 8px rgba(109,121,255,.35);
}
.eyebrow{color:var(--mut);letter-spacing:.16em;text-transform:uppercase;font-size:.72rem}
.title{font-size:1.12rem}
.stage{
  border:1px solid var(--line); padding:.35rem .7rem; border-radius:999px;
  background:#0e1930; color:#bcd1ea; font-size:.86rem;
}

/* ===== Layout: 2 columns, full viewport, page no-scroll ===== */
.grid{
  height: calc(100vh - 57px);
  display:grid;
  grid-template-columns: 1.35fr 1fr;
  gap:18px;
  padding:18px;
  overflow:hidden; /* page never scrolls */
}

/* ===== Common slabs ===== */
.slab{
  background: var(--slab);
  border:1px solid var(--line);
  border-radius:16px;
  padding:14px;
  box-shadow: 0 20px 60px rgba(0,0,0,.35);
}
.slab-scroll{
  display:flex; flex-direction:column; min-height:0;
  overflow:hidden;
}
.panel-header{display:flex; align-items:center; justify-content:space-between; margin-bottom:8px}
.muted{color:var(--mut)}
.sub{color:var(--mut); font-size:.76rem}
.mono{font-variant-numeric:tabular-nums}

/* ===== Left column ===== */
.organism-slab{display:grid; grid-template-rows:auto 1fr auto auto; min-height:0}
.statusline{color:var(--mut); font-size:.92rem}
.organism-wrap{
  position:relative; border:1px solid var(--line); border-radius:14px; overflow:hidden;
  display:grid; place-items:center; background:radial-gradient(1400px 900px at 50% 30%, #0f1a2c 0%, #0b121d 60%, #09101a 100%);
  min-height:0;
}
#org-canvas{width:100%; height:100%; max-height:100%}
.halo{pointer-events:none; position:absolute; inset:0; border-radius:50%}
.halo-1{box-shadow: 0 0 180px 60px rgba(54,251,209,.18) inset}
.halo-2{box-shadow: 0 0 280px 140px rgba(109,121,255,.09) inset}
.sparks{position:absolute; inset:0; margin:0; padding:0; list-style:none}
.sparks li{position:absolute; width:4px;height:4px;border-radius:50%; background:rgba(125,255,201,.8); opacity:.12; filter:blur(.3px)}

.toolbar{display:flex; gap:10px; margin-top:10px}
.btn{background:#0e2036; color:#cfe7ff; border:1px solid #223a5a; padding:.58rem 1rem; border-radius:10px; text-decoration:none}
.btn:hover{background:#122a44}
.btn.ghost{background:transparent}
.btn.accent{background:linear-gradient(180deg, var(--cy), var(--cy-d)); color:#001a14; border-color:#1a8d76}

.quickstats{display:grid; grid-template-columns:repeat(3,1fr); gap:12px; margin-top:10px}
.kv{display:grid; grid-template-columns:auto 1fr; align-items:center; gap:8px}
.k{color:var(--mut); font-size:.86rem}
.v{justify-self:end}
.tag{border:1px solid var(--line); padding:.25rem .6rem; border-radius:999px}

/* flow bar in quickstats */
.bar{height:8px; border-radius:999px; background:#0a1a2c; border:1px solid #1e3553; overflow:hidden}
.bar__fill{height:100%; width:50%; transform-origin:left; background:linear-gradient(90deg,#eb6a87,#2ef0b4)}

/* ===== Right column ===== */
.rightcol{display:grid; grid-template-rows:auto 1fr auto; gap:18px; overflow:hidden}

.meter-row{display:grid; grid-template-columns:90px 1fr; gap:10px; align-items:center; margin:8px 0}
.meter{height:10px; border-radius:999px; background:#0a1a2c; border:1px solid #1e3553; overflow:hidden}
.meter > span{display:block; height:100%; background:linear-gradient(90deg, #2b6dcf, #65ffd8)}

.vitals-grid{display:grid; grid-template-columns:1fr 1fr; gap:12px}

.table{width:100%; border-collapse:separate; border-spacing:0 10px; min-height:0}
.table thead th{color:var(--mut); font-size:.86rem; font-weight:600}
.table tbody{display:block; overflow:auto; max-height: calc(100% - 38px); padding-right:4px}
.table thead, .table tbody tr{display:table; width:100%; table-layout:fixed}
.table tbody tr{background:#0f1929; border:1px solid var(--line); border-radius:12px}
.table tbody td, .table thead th{padding:12px 14px}
.table tbody tr td:first-child{border-top-left-radius:12px;border-bottom-left-radius:12px}
.table tbody tr td:last-child{border-top-right-radius:12px;border-bottom-right-radius:12px}

.right{text-align:right}
.feed{color:#2ef0b4; font-weight:800}
.starve{color:#ff7a7a; font-weight:800}

.footnote{color:var(--mut); text-align:center; font-size:.86rem}

/* Responsive */
@media (max-width: 1200px){
  .grid{grid-template-columns:1fr; height:auto}
  body{overflow:auto}         /* allow page scroll on narrow screens */
  .table tbody{max-height:420px}
}

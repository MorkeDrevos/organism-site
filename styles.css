/* ===== Base ===== */
:root{
  --bg:#05070a;
  --pane:#0c1118;
  --edge:#1d2632;
  --ink:#dfe7ff;
  --muted:#8da3ba;
  --ok:#69e4d1;     /* aqua */
  --okA: rgba(105,228,209,.9);
  --warn:#ff77aa;   /* magenta/pink */
  --warnA: rgba(255,119,170,.9);
  --acc:#7cc0ff;    /* accent for bars */
}

html,body{
  margin:0;
  padding:0;
  height:100%;
  background:var(--bg);
  color:var(--ink);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  overflow:hidden;
}

/* fullscreen canvas behind everything */
#org-canvas{
  position:fixed; inset:0;
  width:100vw; height:100vh;
  z-index:0;
  display:block;
  background:transparent;
}

/* ===== Topbar ===== */
.topbar{
  position:relative; z-index:2;
  display:grid; grid-template-columns: 1fr auto;
  align-items:center; gap:18px;
  padding:12px 16px;
  font-weight:600; color:#b4c4e7;
}
.brand{ font-size:18px; color:#c7d7ff; }
.chips{ display:flex; gap:8px; flex-wrap:wrap; }
.chip{ background:#0f1a2f; color:#b6c4ff; border:1px solid #233056; border-radius:999px; padding:4px 9px; font-size:12px; }

.inline-metrics{ display:flex; align-items:center; gap:18px; justify-content:flex-end; }
.kv label{ display:block; font-size:11px; color:var(--muted); }
.kv span{ font-variant-numeric: tabular-nums; }

.btn{ background:#111c2b; border:1px solid #223248; color:#cfe4ff; border-radius:6px; padding:6px 10px; cursor:pointer; }
.btn.ghost{ background:transparent; }

/* Net flow tiny meter in top HUD */
.meter{ width:260px; }
.flowline{ display:flex; align-items:center; gap:8px; }
.flowline .flow{ flex:1; height:4px; background:#122030; border-radius:3px; overflow:hidden; }
.flowline .flow span{ display:block; height:100%; width:0%; background:linear-gradient(90deg,#0cf,#7f7); transition:width .4s; }
#flowLabel{ color:#9bb2cb; font-size:12px; }

/* ===== Ring HUD (center area) ===== */
.ring-hud{
  position:fixed; inset:0; z-index:2; pointer-events:none;
  display:grid; grid-template-columns:240px 380px 240px; gap:28px;
  place-items:center;
}
.gauge{ display:grid; gap:8px; justify-items:center; }
.gauge .label{ font-size:13px; color:var(--muted); }
.gauge .label span{ color:var(--ink); }

/* Thin glowing arc (not pie) */
.gauge .ring{
  --val:0;             /* degrees 0..360 */
  --ringColor:#69e4d1; /* default aqua */
  width:220px; height:220px; border-radius:50%;
  background:
    radial-gradient(closest-side, #05070a 72%, transparent 78%),
    conic-gradient(var(--ringColor) 0deg calc(var(--val)*1deg), transparent 0deg 360deg);
  box-shadow:
    inset 0 0 12px rgba(0,0,0,.85),
    0 0 24px var(--ringColor),
    0 0 65px var(--ringColor);
  position:relative;
  mask-image: radial-gradient(circle, transparent 70%, black 80%);
  -webkit-mask-image: radial-gradient(circle, transparent 70%, black 80%);
}
.gauge.health .ring{ --ringColor: var(--okA); }
.gauge.mut .ring{ --ringColor: var(--warnA); }

/* Nucleus info card */
.nucleus{
  width:100%; max-width:380px; pointer-events:auto;
  background: rgba(9,12,18,.78);
  border:1px solid var(--edge);
  border-radius:18px;
  padding:14px;
  box-shadow: 0 14px 42px rgba(0,0,0,.7);
  backdrop-filter: blur(14px);
}
.nucleus .title{ font-size:14px; font-weight:700; margin-bottom:8px; color:#e7f0ff; }
.kvrow{ display:grid; grid-template-columns: 110px 1fr; align-items:center; gap:10px; margin-bottom:10px; }
.kvrow .kv{ display:flex; gap:8px; }
.kvrow .kv.full{ grid-column:1/-1; display:block; }
.kvrow label{ font-size:12px; color:#95a8be; }
.subtext{ font-size:11px; color:#8da3ba; margin-top:4px; }

/* small bar inside nucleus */
.bar{ flex:1; height:6px; background:#1c2838; border-radius:3px; overflow:hidden; position:relative; }
.bar > span{ display:block; height:100%; width:0%; background:linear-gradient(90deg,#6bf,#a8f); transition:width .3s ease; }

/* ===== Bottom dock ===== */
.dock{
  z-index:2; position:absolute; left:0; right:0; bottom:10px;
  display:grid; grid-template-columns: 1fr 1.3fr; gap:16px;
  padding:0 12px;
}
.panel{
  background: rgba(8,12,18,.84);
  border:1px solid #213045;
  border-radius:14px;
  padding:10px 12px 12px;
  box-shadow: 0 18px 50px rgba(0,0,0,.55);
}
.panel-head{ display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
.panel-head h3{ margin:0; font-size:14px; color:#dbe7ff; }
.live-dot{ color:#0ff; margin-left:6px; font-size:12px; }

/* vitals rows */
.vitals .kvrow{ grid-template-columns: 70px 1fr 40px; gap:10px; margin:8px 0; }
.vitals .kvrow.small{ grid-template-columns: auto 1fr auto auto; color:#9db0c6; }
.vitals .pct{ text-align:right; color:#a9c6ff; font-variant-numeric: tabular-nums; }

/* trades feed (rows, no heavy table) */
.feedlist{ display:grid; gap:8px; }
.feed-head{ display:grid; grid-template-columns: 90px 80px 1fr 1fr; gap:8px; color:#9eb2c9; font-size:12px; }
#trades-body .row{
  display:grid; grid-template-columns: 90px 80px 1fr 1fr; gap:8px;
  background: rgba(18,24,34,.6); border:1px solid #223349;
  padding:10px 12px; border-radius:10px;
}
#trades-body .row .t{ color:#9fb6d0; }
#trades-body .row .p{ color:#b8d2ff; }
#trades-body .row .type{ color:#8fb; }
#trades-body .row .type.starve{ color:#ff8cae; }

/* table fallback (unused now, kept for safety) */
.table{ width:100%; border-collapse:collapse; font-size:13px; }
.table th, .table td{ text-align:left; padding:6px; }
.table thead{ background:#151a22; }

/* footer tiny */
.foot{
  position:absolute; bottom:0; width:100%;
  font-size:11px; opacity:.45; text-align:center; padding:4px; z-index:1;
}

/* ===== Responsive ===== */
@media (max-width: 1200px){
  .ring-hud{ grid-template-columns: 220px 1fr 220px; gap:18px; }
  .nucleus{ max-width:340px; }
}
@media (max-width: 980px){
  .ring-hud{ display:none; }       /* hide big HUD on phones, keep dock */
  .dock{ grid-template-columns: 1fr; gap:12px; padding: 0 10px 10px; }
}

:root{
  --bg:#0b1220;
  --panel:#111a2a;
  --panel-2:#0e1727;
  --line:rgba(255,255,255,.06);
  --text:#e7efff;
  --text-dim:#8ea1b2;
  --ok:#35d49c;
  --warn:#ff7d7d;
  --accent:#7aa8ff;
  --fill:#1f2b43;
  --fill-2:#1b263d;
  --glow:0 0 40px rgba(90,220,180,.2);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background: radial-gradient(1200px 800px at 10% -20%, #0d1730 0%, var(--bg) 40%),
              radial-gradient(1200px 800px at 90% -30%, #0c1936 0%, var(--bg) 45%),
              var(--bg);
  color:var(--text);
  font: 15px/1.5 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

/* ---------- Topbar ---------- */
.topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:18px 22px; border-bottom:1px solid var(--line);
  backdrop-filter: blur(8px);
}
.brand{ letter-spacing:.04em; font-weight:600; display:flex; align-items:center; gap:10px}
.brand .dot{ width:8px; height:8px; border-radius:50%; background:var(--ok); box-shadow:0 0 10px var(--ok)}
.brand .hint{ margin-left:10px; color:var(--text-dim); font-weight:400}
.stage-pill{
  padding:6px 12px; border:1px solid var(--line); border-radius:999px;
  color:var(--text-dim); font-size:12px; background: linear-gradient(180deg, var(--panel-2), transparent);
}

/* ---------- Layout ---------- */
.grid{
  display:grid; gap:16px;
  grid-template-columns: 1.1fr 1.2fr;
  padding:16px 16px 32px;
}
@media (max-width: 980px){
  .grid{ grid-template-columns: 1fr }
}

/* ---------- Panels / Boxes ---------- */
.panel{
  background: linear-gradient(180deg, var(--panel), var(--panel-2));
  border:1px solid var(--line);
  border-radius:16px; padding:16px;
  box-shadow: var(--glow);
}
.panel.tight{ padding:14px }
.panel-head{ color:var(--text-dim); margin-bottom:10px }
.status-line{ display:flex; gap:8px; align-items:center }
.ok{ color:var(--ok) }

.panel-split{ display:grid; grid-template-columns: 1fr; gap:16px }

/* ---------- Organism ---------- */
.organ .organism-wrap{
  aspect-ratio:1/1; width:100%; max-width:680px; margin:8px auto 12px;
  background: radial-gradient(35% 35% at 50% 50%, rgba(60,255,205,.08), transparent 60%),
              radial-gradient(70% 70% at 50% 50%, rgba(20,180,140,.08), transparent 70%),
              radial-gradient(100% 100% at 50% 50%, rgba(20,40,70,.6), rgba(10,18,35,.6));
  border:1px solid var(--line); border-radius:18px; display:grid; place-items:center;
}
#org-canvas{ width:90%; height:auto; filter:drop-shadow(0 0 40px rgba(70,220,170,.25)) }

/* ---------- Controls / KV ---------- */
.controls{ display:flex; gap:10px; flex-wrap:wrap; margin:6px auto 10px; justify-content:center }
.btn{
  padding:10px 14px; border-radius:12px; border:1px solid var(--line);
  background: linear-gradient(180deg, #182338, #111a2a); color:var(--text);
  text-decoration:none; cursor:pointer;
}
.btn:hover{ border-color: rgba(255,255,255,.12) }
.btn.ghost{ background: transparent }

.kv{ margin-top:8px; display:grid; gap:8px }
.kv-row{ display:grid; grid-template-columns: 70px 1fr 80px 1fr; gap:10px; align-items:center }
.label{ color:var(--text-dim) }
.value{ color:var(--text) }
.value.micro{ font-size:12px; color:var(--text-dim) }
.flow-wrap{ background:var(--fill); border:1px solid var(--line); height:8px; border-radius:999px; overflow:hidden }
#flowBar{ height:100%; width:50%; background:linear-gradient(90deg, #2bd4bd, #85ffa7) }
.right{ text-align:right }
.mono{ font-variant-numeric:tabular-nums; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-weight:400 }

/* ---------- Lab vitals ---------- */
.box{
  background: linear-gradient(180deg, #0f182a, #0b1422);
  border:1px solid var(--line); border-radius:16px; padding:14px;
}
.box-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:4px }
.h{ font-size:16px; letter-spacing:.02em; font-weight:600; margin:0 }
.capsule{
  font-size:11px; color:var(--text-dim); border:1px solid var(--line); padding:4px 8px; border-radius:999px;
  background:linear-gradient(180deg, #0f182a, #0a1220)
}
.capsule.live::before{
  content:""; display:inline-block; width:6px; height:6px; margin-right:6px; border-radius:50%;
  background:var(--ok); box-shadow:0 0 8px var(--ok)
}
.lab{ padding:14px }
.lab-grid{ display:grid; gap:10px; grid-template-columns: 1fr 1fr }
@media (max-width: 460px){ .lab-grid{ grid-template-columns:1fr } }
.lab-item{ display:grid; grid-template-columns: 1fr auto; align-items:center; gap:8px }
.lab-k{ color:var(--text-dim) }
.lab-bar{ grid-column:1/3; background:var(--fill); border:1px solid var(--line); height:9px; border-radius:999px; overflow:hidden }
.lab-fill{ height:100%; width:30%; background:linear-gradient(90deg, #8afcc3, #52c7a8) }
.lab-fill.alt{ background:linear-gradient(90deg, #9fb7ff, #6fa4ff) }
.lab-num{ color:var(--text-dim) }
.lab-mini{ color:var(--text); padding:4px 8px; background:var(--fill-2); border:1px solid var(--line); border-radius:8px }

/* ---------- Table ---------- */
.table{ width:100%; border-collapse:separate; border-spacing:0 10px }
.table thead th{
  text-align:left; font-weight:400; color:var(--text-dim);
  padding:0 14px 4px 14px;
}
.table tbody tr{ background: rgba(255,255,255,.04); }
.table tbody td{ padding:14px; font-weight:400 }

.feed{ color:#35d49c; font-weight:400 }
.starve{ color:#ff9090; font-weight:400 }

/* ---------- Footer ---------- */
.foot{
  color:var(--text-dim); border-top:1px solid var(--line);
  padding:14px 16px; margin-top:10px; font-size:13px;
}

/* ====== Theme (warm, womb-like) ====== */
:root{
  --ink:#EAE7EE;               /* text */
  --ink-dim:#B9B5C2;           /* dim text */
  --bg:#0e0b11;                /* background base */
  --card:#12101a;              /* panels */
  --edge:#262134;              /* panel borders */
  --accent:#ffd2c3;            /* soft peach */
  --ok:#7EE8AA;                /* green for Feed */
  --warn:#FF8B8B;              /* red for Starve */
}

/* Reset + base */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--ink);
  background:var(--bg);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
  letter-spacing:.2px;
}

/* Top brand/status HUD */
.topbar{
  position:fixed; left:0; right:0; top:0;
  display:grid; grid-template-columns: 1fr auto 1fr; align-items:center;
  gap:12px; padding:14px 18px; z-index:5;
  pointer-events:none; /* buttons re-enable below */
}
.brand{ pointer-events:auto; font-weight:600; opacity:.9 }
.badge{ pointer-events:auto; justify-self:center; font-size:12px; padding:6px 10px; border-radius:999px; background:#1e1a27; border:1px solid var(--edge); color:var(--ink-dim) }
.controls{ pointer-events:auto; display:flex; gap:8px; justify-self:end }

.btn{
  appearance:none; border:none; border-radius:10px;
  padding:8px 12px; background:#1e1a27; color:var(--ink);
  border:1px solid var(--edge); font-size:13px; cursor:pointer;
}
.btn:hover{ filter:brightness(1.08) }
.btn.ghost{ background:transparent }

/* Labels row (price / updated / net flow label on right) */
.labels{
  position:fixed; left:18px; right:18px; top:62px; z-index:4;
  display:grid; grid-template-columns: 1fr auto 160px; align-items:center; gap:12px;
  color:var(--ink-dim); font-size:13px;
}

/* Net flow needle */
.flowline{ position:relative; align-self:center }
.flow{ position:relative; width:48vw; max-width:720px; height:5px; border-radius:6px; background:#2a2332; overflow:hidden; }
.meter .needle,
.flow .needle{ display:block; height:5px; width:50%; background:linear-gradient(90deg,#86f7cd,#8bb6ff); border-radius:6px; transform-origin:left center; transition:width .35s ease }
.flowlabel{ margin-left:8px; color:var(--ink-dim) }

/* ===== Canvas sits behind everything ===== */
#org-canvas{
  position:fixed; inset:0; width:100%; height:100%;
  z-index:0; display:block;
}

/* Bottom dock: vitals + trades */
.dock{
  position:fixed; left:12px; right:12px; bottom:12px; z-index:3;
  display:grid; grid-template-columns: 1fr 1fr; gap:12px;
}
.card{
  background:var(--card);
  border:1px solid var(--edge);
  border-radius:14px; padding:14px;
  box-shadow: 0 8px 40px rgba(0,0,0,.35);
}

/* Vitals bars */
.kv{ display:grid; grid-template-columns: 90px 1fr auto; align-items:center; gap:8px; margin:6px 0 }
.kv .label{ color:var(--ink-dim) }
.bar{ height:8px; background:#1a1622; border:1px solid var(--edge); border-radius:999px; overflow:hidden }
.bar > span{ display:block; height:100%; width:0% }
#healthBar > span{ background:linear-gradient(90deg,#b8ffe3,#9dd5ff) }
#mutBar > span   { background:linear-gradient(90deg,#ffd0e0,#ffc083) }

/* Trades table */
.table{ width:100%; border-collapse:separate; border-spacing:0 10px }
.table th, .table td{ text-align:left; padding:6px; font-variant-numeric: tabular-nums }
.table thead{ background:#151a22; color:var(--ink-dim) }
.type-feed{ color:var(--ok) }
.type-starve{ color:var(--warn) }

/* “Live” chips */
.chip{
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 8px; font-size:12px; border-radius:999px;
  background:#101a26; border:1px solid var(--edge); color:var(--ink-dim)
}
.live-dot{ color:#0f9; margin-left:4px }

/* Footer */
.foot{
  position:fixed; left:0; right:0; bottom:0; text-align:center;
  font-size:11px; opacity:.45; padding:4px; z-index:1;
}

/* Responsive: stack dock on phones */
@media (max-width: 980px){
  .topbar{ grid-template-columns: 1fr; gap:8px; text-align:center }
  .labels{ grid-template-columns: 1fr; gap:6px; top:68px }
  .flow{ width: 80vw }
  .dock{ grid-template-columns: 1fr; bottom:10px }
}

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>THE ORGANISM ‚Äî Live Habitat</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* tiny helpers for the new USD value column */
    .t-right { text-align:right }
    .t-mono { font-variant-numeric: tabular-nums; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
    .muted { opacity:.7 }
    .buy { color:#4ade80 }     /* green */
    .sell { color:#f87171 }    /* red */
    .row { display:grid; grid-template-columns: 92px 1fr 1fr 112px; gap:14px; align-items:center; padding:14px 18px; border-radius:14px; background: rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.06); }
    .row + .row { margin-top:10px; }
    .head { opacity:.65; font-size:.9rem; letter-spacing:.02em; }
    .trades-wrap { padding:18px }
  </style>
</head>
<body>
  <main class="wrap">
    <section class="panel hero">
      <div class="hero-head">
        <div class="eyebrow">THE ORGANISM</div>
        <div class="badge" id="stageBadge">Stage 1 ‚Ä¢ The Cell</div>
      </div>

      <h1 class="title">THE ORGANISM</h1>
      <p class="subtitle">
        Status: <span id="status" class="ok">Alive</span> ‚Äî Heartbeat: <span id="heartbeat">Stable</span>
        ‚Äî <em>‚ÄúFeed it or watch it die.‚Äù</em>
      </p>

      <div class="organism-wrap">
        <canvas id="organism" width="560" height="560"></canvas>
        <div class="ring"></div><div class="ring ring2"></div><div class="ring ring3"></div>
      </div>

      <div class="btns">
        <button id="feedBtn" class="btn primary">‚ö° FEED THE ORGANISM</button>
        <a id="tradeBtn" class="btn" href="#" target="_blank" rel="noopener">Open Swap</a>
        <button id="sfxBtn" class="btn">üîá SFX Off</button>
      </div>
    </section>

    <section class="grid">
      <div class="panel stats">
        <h3>Vitals</h3>
        <div class="kv">
          <div>Health</div>
          <div class="bar"><span id="healthBar" style="width:38%"></span></div>
        </div>
        <div class="kv">
          <div>Mutation Progress</div>
          <div class="bar"><span id="mutBar" style="width:0%"></span></div>
        </div>
        <div class="kv">
          <div>Decay</div>
          <div><span id="decayRate">1% / 10m</span></div>
        </div>
        <div class="kv">
          <div>Stage</div>
          <div><span id="stageNum">1</span></div>
        </div>
        <div class="kv">
          <div>Price</div>
          <div class="t-mono" id="price">$‚Äî</div>
        </div>
        <div class="kv">
          <div>Updated</div>
          <div id="timestamp">‚Äî:‚Äî:‚Äî</div>
        </div>
        <div class="kv">
          <div>Net Flow (5m)</div>
          <div class="bar"><span id="flowBar" style="width:50%"></span></div>
          <div id="flowWord" class="muted">Neutral</div>
        </div>
      </div>

      <div class="panel">
        <h3>Trades ‚Äî Feeding / Starving</h3>
        <div class="trades-wrap">
          <!-- header -->
          <div class="row head t-mono">
            <div>Side</div>
            <div class="t-right">Price (USD)</div>
            <div class="t-right">Value (USD) <span class="muted">(size)</span></div>
            <div class="t-right">Time</div>
          </div>
          <div id="trades"></div>
        </div>
      </div>
    </section>

    <section class="panel">
      <h3>Mutation Archive</h3>
      <ol id="archive">
        <li><strong>Stage 1: The Cell</strong> ‚Äî Born weak, fragile, dependent on constant feeding.</li>
      </ol>
    </section>
  </main>

  <script>
    // simple frontend config
    window.__CONFIG__ = {
      apiBase: "https://organism-backend.onrender.com", // ‚Üê your backend base
      tokenMint: "7W4geAJyy7hxuPXESMMBaW8Zi4MbhVN9uvt6BJ2SEPAV",
      jupiterSwapUrl: "https://jup.ag/swap/SOL-7W4geAJyy7hxuPXESMMBaW8Zi4MbhVN9uvt6BJ2SEPAV"
    };
  </script>
  <script src="app.js"></script>
</body>
</html>
